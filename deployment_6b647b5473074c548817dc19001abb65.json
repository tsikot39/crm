[
  "[AppRunner] Starting to deploy your application source code.",
  "[AppRunner] Starting to build your application source code.",
  "[PreBuild] Sending build context to Docker daemon  1.716MB\r\r\n",
  "[PreBuild] Step 1/3 : FROM 380155284058.dkr.ecr.us-west-2.amazonaws.com/awsfusionruntime-nodejs18-build:uuid-nodejs18-20250625-203652-80 AS pre-build-stage\n",
  "[PreBuild] uuid-nodejs18-20250625-203652-80: Pulling from awsfusionruntime-nodejs18-build\n",
  "[PreBuild] a00db81cfbfc: Pulling fs layer\n",
  "[PreBuild] 14569ce42c43: Pulling fs layer\n",
  "[PreBuild] 1dbe7aeef389: Pulling fs layer\n",
  "[PreBuild] 1dbe7aeef389: Verifying Checksum\n",
  "[PreBuild] 1dbe7aeef389: Download complete\n",
  "[PreBuild] a00db81cfbfc: Download complete\n",
  "[PreBuild] 14569ce42c43: Verifying Checksum\n",
  "[PreBuild] 14569ce42c43: Download complete\n",
  "[PreBuild] a00db81cfbfc: Pull complete\n",
  "[PreBuild] 14569ce42c43: Pull complete\n",
  "[PreBuild] 1dbe7aeef389: Pull complete\n",
  "[PreBuild] Digest: sha256:d03e16bb4c2bdb4c1315b6b096021f3eda7181cb7b67709435c1691dee779d99\n",
  "[PreBuild] Status: Downloaded newer image for 380155284058.dkr.ecr.us-west-2.amazonaws.com/awsfusionruntime-nodejs18-build:uuid-nodejs18-20250625-203652-80\n",
  "[PreBuild]  ---> d6a0a3e612bd\n",
  "[PreBuild] Step 2/3 : COPY . /app\n",
  "[PreBuild]  ---> 48ee80c1a489\n",
  "[PreBuild] Step 3/3 : WORKDIR /app/services/api-gateway\n",
  "[PreBuild]  ---> Running in 5c1f2d0635db\n",
  "[PreBuild] Removing intermediate container 5c1f2d0635db\n",
  "[PreBuild]  ---> 99b7f4ddecfd\n",
  "[PreBuild] Successfully built 99b7f4ddecfd\n",
  " ",
  "[Build] Sending build context to Docker daemon  1.716MB\r\r\n",
  "[Build] Step 1/7 : FROM 380155284058.dkr.ecr.us-west-2.amazonaws.com/awsfusionruntime-nodejs18-build:uuid-nodejs18-20250625-203652-80 AS pre-build-stage\n",
  "[Build]  ---> d6a0a3e612bd\n",
  "[Build] Step 2/7 : COPY . /app\n",
  "[Build]  ---> Using cache\n",
  "[Build]  ---> 48ee80c1a489\n",
  "[Build] Step 3/7 : WORKDIR /app/services/api-gateway\n",
  "[Build]  ---> Using cache\n",
  "[Build]  ---> 99b7f4ddecfd\n",
  "[Build] Step 4/7 : FROM pre-build-stage as build-stage\n",
  "[Build]  ---> 99b7f4ddecfd\n",
  "[Build] Step 5/7 : WORKDIR /app/services/api-gateway\n",
  "[Build]  ---> Running in 86bacde20f17\n",
  "[Build] Removing intermediate container 86bacde20f17\n",
  "[Build]  ---> 803bd7b7ccd5\n",
  "[Build] Step 6/7 : RUN npm install --legacy-peer-deps --engine-strict=false\n",
  "[Build]  ---> Running in cde8da144fa9\n",
  "[Build] \u001b[91mnpm warn workspaces @crm-saas/api-gateway in filter set, but no workspace folder present\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'vite@7.0.6',\n",
  "[Build] npm warn EBADENGINE   required: { node: '^20.19.0 || >=22.12.0' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'rimraf@6.0.1',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'glob@11.0.3',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'jackspeak@4.1.1',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'minimatch@10.0.3',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'path-scurry@2.0.0',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'lru-cache@11.1.0',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: '@isaacs/brace-expansion@5.0.0',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: '@isaacs/balanced-match@4.0.1',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\n",
  "[Build] \u001b[0m\u001b[91mnpm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported\n",
  "[Build] \u001b[0m\n",
  "[Build] > crm-saas-platform@1.0.0 postinstall\n",
  "[Build] > npm run prisma:generate\n",
  "[Build] > crm-saas-platform@1.0.0 prisma:generate\n",
  "[Build] > cd shared/database && npx prisma generate\n",
  "[Build] \u001b[91mnpm warn exec The following package was not found and will be installed: prisma@6.14.0\n",
  "[Build] \u001b[0mPrisma schema loaded from prisma/schema.prisma\n",
  "[Build] ✔ Installed the @prisma/client and prisma packages in your project\n",
  "[Build] ✔ Generated Prisma Client (v6.14.0) to ./node_modules/.prisma/client in 249ms\n",
  "[Build] Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)\n",
  "[Build] Tip: Interested in query caching in just a few lines of code? Try Accelerate today! https://pris.ly/tip-3-accelerate\n",
  "[Build] added 592 packages, and audited 594 packages in 2m\n",
  "[Build] 91 packages are looking for funding\n",
  "[Build]   run `npm fund` for details\n",
  "[Build] found 0 vulnerabilities\n",
  "[Build] \u001b[91mnpm notice\n",
  "[Build] npm notice New major version of npm available! 10.8.2 -> 11.5.2\n",
  "[Build] npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2\n",
  "[Build] npm notice To update run: npm install -g npm@11.5.2\n",
  "[Build] npm notice\n",
  "[Build] \u001b[0mRemoving intermediate container cde8da144fa9\n",
  "[Build]  ---> c1ae3f0930ec\n",
  "[Build] Step 7/7 : RUN npm run build\n",
  "[Build]  ---> Running in e0e2e6fe1b70\n",
  "[Build] > @crm-saas/api-gateway@1.0.0 build\n",
  "[Build] > tsc\n",
  "[Build] src/routes/contacts.ts(123,11): error TS2322: Type '{ organizationId: string; assignedTo: string; email?: string; companyId?: string; status?: \"lead\" | \"prospect\" | \"customer\" | \"inactive\"; tags?: string[]; firstName?: string; lastName?: string; phone?: string; jobTitle?: string; notes?: string; }' is not assignable to type 'Omit<ContactDocument, \"_id\" | \"createdAt\" | \"updatedAt\">'.\n",
  "[Build]   Property 'status' is optional in type '{ organizationId: string; assignedTo: string; email?: string; companyId?: string; status?: \"lead\" | \"prospect\" | \"customer\" | \"inactive\"; tags?: string[]; firstName?: string; lastName?: string; phone?: string; jobTitle?: string; notes?: string; }' but required in type 'Omit<ContactDocument, \"_id\" | \"createdAt\" | \"updatedAt\">'.\n",
  "[Build] \u001b[91mnpm error Lifecycle script `build` failed with error:\n",
  "[Build] \u001b[0m\u001b[91mnpm error code 2\n",
  "[Build] \u001b[0m\u001b[91mnpm error path /app/services/api-gateway\n",
  "[Build] npm error workspace @crm-saas/api-gateway@1.0.0\n",
  "[Build] npm error location /app/services/api-gateway\n",
  "[Build] \u001b[0m\u001b[91mnpm error command failed\n",
  "[Build] npm error command sh -c tsc\n",
  "[Build] \u001b[0mThe command '/bin/sh -c npm run build' returned a non-zero code: 2\n",
  "[AppRunner] Failed to build your application source code. Reason: Failed to execute 'build' command.",
  "[AppRunner] Failed to deploy your application source code."
]