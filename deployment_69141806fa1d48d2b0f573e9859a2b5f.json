[
  "[AppRunner] Starting to deploy your application source code.",
  "[AppRunner] Starting to build your application source code.",
  "[PreBuild] Sending build context to Docker daemon  1.702MB\r\r\n",
  "[PreBuild] Step 1/3 : FROM 380155284058.dkr.ecr.us-west-2.amazonaws.com/awsfusionruntime-nodejs18-build:uuid-nodejs18-20250625-203652-80 AS pre-build-stage\n",
  "[PreBuild] uuid-nodejs18-20250625-203652-80: Pulling from awsfusionruntime-nodejs18-build\n",
  "[PreBuild] a00db81cfbfc: Pulling fs layer\n",
  "[PreBuild] 14569ce42c43: Pulling fs layer\n",
  "[PreBuild] 1dbe7aeef389: Pulling fs layer\n",
  "[PreBuild] 1dbe7aeef389: Verifying Checksum\n",
  "[PreBuild] 1dbe7aeef389: Download complete\n",
  "[PreBuild] a00db81cfbfc: Verifying Checksum\n",
  "[PreBuild] a00db81cfbfc: Download complete\n",
  "[PreBuild] 14569ce42c43: Verifying Checksum\n",
  "[PreBuild] 14569ce42c43: Download complete\n",
  "[PreBuild] a00db81cfbfc: Pull complete\n",
  "[PreBuild] 14569ce42c43: Pull complete\n",
  "[PreBuild] 1dbe7aeef389: Pull complete\n",
  "[PreBuild] Digest: sha256:d03e16bb4c2bdb4c1315b6b096021f3eda7181cb7b67709435c1691dee779d99\n",
  "[PreBuild] Status: Downloaded newer image for 380155284058.dkr.ecr.us-west-2.amazonaws.com/awsfusionruntime-nodejs18-build:uuid-nodejs18-20250625-203652-80\n",
  "[PreBuild]  ---> d6a0a3e612bd\n",
  "[PreBuild] Step 2/3 : COPY . /app\n",
  "[PreBuild]  ---> 50c2a534b2fc\n",
  "[PreBuild] Step 3/3 : WORKDIR /app/services/api-gateway\n",
  "[PreBuild]  ---> Running in 2d7f644c18b9\n",
  "[PreBuild] Removing intermediate container 2d7f644c18b9\n",
  "[PreBuild]  ---> 69f25ba7aff8\n",
  "[PreBuild] Successfully built 69f25ba7aff8\n",
  " ",
  "[Build] Sending build context to Docker daemon  1.702MB\r\r\n",
  "[Build] Step 1/7 : FROM 380155284058.dkr.ecr.us-west-2.amazonaws.com/awsfusionruntime-nodejs18-build:uuid-nodejs18-20250625-203652-80 AS pre-build-stage\n",
  "[Build]  ---> d6a0a3e612bd\n",
  "[Build] Step 2/7 : COPY . /app\n",
  "[Build]  ---> Using cache\n",
  "[Build]  ---> 50c2a534b2fc\n",
  "[Build] Step 3/7 : WORKDIR /app/services/api-gateway\n",
  "[Build]  ---> Using cache\n",
  "[Build]  ---> 69f25ba7aff8\n",
  "[Build] Step 4/7 : FROM pre-build-stage as build-stage\n",
  "[Build]  ---> 69f25ba7aff8\n",
  "[Build] Step 5/7 : WORKDIR /app/services/api-gateway\n",
  "[Build]  ---> Running in c3c63702b83b\n",
  "[Build] Removing intermediate container c3c63702b83b\n",
  "[Build]  ---> c45b282ed83c\n",
  "[Build] Step 6/7 : RUN npm install --legacy-peer-deps --engine-strict=false\n",
  "[Build]  ---> Running in 68e28dbbb467\n",
  "[Build] \u001b[91mnpm warn workspaces @crm-saas/api-gateway in filter set, but no workspace folder present\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'vite@7.0.6',\n",
  "[Build] npm warn EBADENGINE   required: { node: '^20.19.0 || >=22.12.0' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'rimraf@6.0.1',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'glob@11.0.3',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'jackspeak@4.1.1',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'minimatch@10.0.3',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'path-scurry@2.0.0',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: 'lru-cache@11.1.0',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: '@isaacs/brace-expansion@5.0.0',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn EBADENGINE Unsupported engine {\n",
  "[Build] npm warn EBADENGINE   package: '@isaacs/balanced-match@4.0.1',\n",
  "[Build] npm warn EBADENGINE   required: { node: '20 || >=22' },\n",
  "[Build] npm warn EBADENGINE   current: { node: 'v18.20.8', npm: '10.8.2' }\n",
  "[Build] npm warn EBADENGINE }\n",
  "[Build] \u001b[0m\u001b[91mnpm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\n",
  "[Build] \u001b[0m\u001b[91mnpm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported\n",
  "[Build] \u001b[0m\n",
  "[Build] > crm-saas-platform@1.0.0 postinstall\n",
  "[Build] > npm run prisma:generate\n",
  "[Build] > crm-saas-platform@1.0.0 prisma:generate\n",
  "[Build] > cd shared/database && npx prisma generate\n",
  "[Build] \u001b[91mnpm warn exec The following package was not found and will be installed: prisma@6.14.0\n",
  "[Build] \u001b[0mPrisma schema loaded from prisma/schema.prisma\n",
  "[Build] ✔ Installed the @prisma/client and prisma packages in your project\n",
  "[Build] ✔ Generated Prisma Client (v6.14.0) to ./node_modules/.prisma/client in 201ms\n",
  "[Build] Start by importing your Prisma Client (See: https://pris.ly/d/importing-client)\n",
  "[Build] Tip: Need your database queries to be 1000x faster? Accelerate offers you that and more: https://pris.ly/tip-2-accelerate\n",
  "[Build] added 592 packages, and audited 594 packages in 2m\n",
  "[Build] 91 packages are looking for funding\n",
  "[Build]   run `npm fund` for details\n",
  "[Build] found 0 vulnerabilities\n",
  "[Build] \u001b[91mnpm notice\n",
  "[Build] npm notice New major version of npm available! 10.8.2 -> 11.5.2\n",
  "[Build] npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.5.2\n",
  "[Build] npm notice To update run: npm install -g npm@11.5.2\n",
  "[Build] npm notice\n",
  "[Build] \u001b[0mRemoving intermediate container 68e28dbbb467\n",
  "[Build]  ---> 2c802be107a8\n",
  "[Build] Step 7/7 : RUN npm run build\n",
  "[Build]  ---> Running in 003d63c854d8\n",
  "[Build] > @crm-saas/api-gateway@1.0.0 build\n",
  "[Build] > tsc\n",
  "[Build] src/routes/auth_backup.ts(9,24): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(10,14): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(11,13): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(12,10): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(13,13): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(14,21): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(19,21): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(20,10): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(21,13): error TS2304: Cannot find name 'z'.\n",
  "[Build] src/routes/auth_backup.ts(25,30): error TS2304: Cannot find name 'UserDocument'.\n",
  "[Build] src/routes/auth_backup.ts(28,10): error TS2304: Cannot find name 'jwt'.\n",
  "[Build] src/routes/auth_backup.ts(48,32): error TS2304: Cannot find name 'userRepository'.\n",
  "[Build] src/routes/auth_backup.ts(50,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(60,31): error TS2304: Cannot find name 'organizationRepository'.\n",
  "[Build] src/routes/auth_backup.ts(64,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(69,34): error TS2304: Cannot find name 'bcrypt'.\n",
  "[Build] src/routes/auth_backup.ts(74,9): error TS2304: Cannot find name 'OrganizationDocument'.\n",
  "[Build] src/routes/auth_backup.ts(93,37): error TS2304: Cannot find name 'organizationRepository'.\n",
  "[Build] src/routes/auth_backup.ts(96,28): error TS2304: Cannot find name 'UserDocument'.\n",
  "[Build] src/routes/auth_backup.ts(111,29): error TS2304: Cannot find name 'userRepository'.\n",
  "[Build] src/routes/auth_backup.ts(116,7): error TS2304: Cannot find name 'logger'.\n",
  "[Build] src/routes/auth_backup.ts(146,7): error TS2304: Cannot find name 'logger'.\n",
  "[Build] src/routes/auth_backup.ts(147,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(159,24): error TS2304: Cannot find name 'userRepository'.\n",
  "[Build] src/routes/auth_backup.ts(161,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(166,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(170,35): error TS2304: Cannot find name 'bcrypt'.\n",
  "[Build] src/routes/auth_backup.ts(172,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(176,11): error TS2304: Cannot find name 'userRepository'.\n",
  "[Build] src/routes/auth_backup.ts(179,32): error TS2304: Cannot find name 'organizationRepository'.\n",
  "[Build] src/routes/auth_backup.ts(183,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(189,5): error TS2304: Cannot find name 'logger'.\n",
  "[Build] src/routes/auth_backup.ts(228,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(235,23): error TS2304: Cannot find name 'jwt'.\n",
  "[Build] src/routes/auth_backup.ts(243,26): error TS2304: Cannot find name 'userRepository'.\n",
  "[Build] src/routes/auth_backup.ts(245,15): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(248,34): error TS2304: Cannot find name 'organizationRepository'.\n",
  "[Build] src/routes/auth_backup.ts(252,15): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/auth_backup.ts(278,13): error TS2304: Cannot find name 'createApiError'.\n",
  "[Build] src/routes/contacts.ts(123,11): error TS2322: Type '{ organizationId: string; assignedTo: string; email?: string; companyId?: string; status?: \"lead\" | \"prospect\" | \"customer\" | \"inactive\"; tags?: string[]; firstName?: string; lastName?: string; phone?: string; jobTitle?: string; notes?: string; }' is not assignable to type 'Omit<ContactDocument, \"_id\" | \"createdAt\" | \"updatedAt\">'.\n",
  "[Build]   Property 'status' is optional in type '{ organizationId: string; assignedTo: string; email?: string; companyId?: string; status?: \"lead\" | \"prospect\" | \"customer\" | \"inactive\"; tags?: string[]; firstName?: string; lastName?: string; phone?: string; jobTitle?: string; notes?: string; }' but required in type 'Omit<ContactDocument, \"_id\" | \"createdAt\" | \"updatedAt\">'.\n",
  "[Build] \u001b[91mnpm error Lifecycle script `build` failed with error:\n",
  "[Build] \u001b[0m\u001b[91mnpm error code 2\n",
  "[Build] \u001b[0m\u001b[91mnpm error path /app/services/api-gateway\n",
  "[Build] npm error workspace @crm-saas/api-gateway@1.0.0\n",
  "[Build] \u001b[0m\u001b[91mnpm error location /app/services/api-gateway\n",
  "[Build] \u001b[0m\u001b[91mnpm error command failed\n",
  "[Build] \u001b[0m\u001b[91mnpm error command sh -c tsc\n",
  "[Build] \u001b[0mThe command '/bin/sh -c npm run build' returned a non-zero code: 2\n",
  "[AppRunner] Failed to build your application source code. Reason: Failed to execute 'build' command.",
  "[AppRunner] Failed to deploy your application source code."
]